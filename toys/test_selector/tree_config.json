{
  "version": "1.0",
  "default_alpha": 0.05,
  "app_title": "Przewodnik wyboru testu statystycznego",
  "profile": "basic",
  "profile_label": "Podstawowy (środek semestru)",
  "questions": [
    {
      "id": "scope",
      "label": "Ile zmiennych analizujesz?",
      "type": "single_choice",
      "options": [
        {"value": "one_variable", "label": "Jedna zmienna"},
        {"value": "two_variables", "label": "Dwie zmienne"}
      ]
    },
    {
      "id": "one_data_type",
      "label": "Jaki typ danych ma zmienna?",
      "type": "single_choice",
      "when": {"scope": "one_variable"},
      "options": [
        {"value": "quantitative", "label": "Ilościowe / ciągłe"},
        {"value": "categorical_proportion", "label": "Nominalne / porządkowe (proporcja)"}
      ]
    },
    {
      "id": "two_data_pattern",
      "label": "Jaka kombinacja typów zmiennych?",
      "type": "single_choice",
      "when": {"scope": "two_variables"},
      "options": [
        {"value": "two_nominal", "label": "Dwie nominalne / porządkowe"},
        {"value": "nominal_continuous", "label": "Jedna nominalna + jedna ciągła"},
        {"value": "two_continuous", "label": "Dwie ciągłe"}
      ]
    },
    {
      "id": "two_nomcont_groups",
      "label": "Ile grup porównujesz?",
      "type": "single_choice",
      "when": {"scope": "two_variables", "two_data_pattern": "nominal_continuous"},
      "options": [
        {"value": "two", "label": "2 grupy"},
        {"value": "more_than_two", "label": "Więcej niż 2 grupy"}
      ]
    }
  ],
  "hypothesis_templates": {
    "mean_one_sample": {
      "parameter": "mu",
      "variants": [
        {"tail": "two_sided", "h0": "H₀: μ = μ₀", "ha": "Hₐ: μ ≠ μ₀"},
        {"tail": "left", "h0": "H₀: μ ≥ μ₀", "ha": "Hₐ: μ < μ₀"},
        {"tail": "right", "h0": "H₀: μ ≤ μ₀", "ha": "Hₐ: μ > μ₀"}
      ]
    },
    "proportion_one_sample": {
      "parameter": "p",
      "variants": [
        {"tail": "two_sided", "h0": "H₀: p = p₀", "ha": "Hₐ: p ≠ p₀"},
        {"tail": "left", "h0": "H₀: p ≥ p₀", "ha": "Hₐ: p < p₀"},
        {"tail": "right", "h0": "H₀: p ≤ p₀", "ha": "Hₐ: p > p₀"}
      ]
    },
    "means_two_independent": {
      "parameter": "mu1_minus_mu2",
      "variants": [
        {"tail": "two_sided", "h0": "H₀: μ₁ - μ₂ = 0", "ha": "Hₐ: μ₁ - μ₂ ≠ 0"},
        {"tail": "left", "h0": "H₀: μ₁ - μ₂ ≥ 0", "ha": "Hₐ: μ₁ - μ₂ < 0"},
        {"tail": "right", "h0": "H₀: μ₁ - μ₂ ≤ 0", "ha": "Hₐ: μ₁ - μ₂ > 0"}
      ]
    },
    "anova": {
      "parameter": "group_means",
      "variants": [
        {"tail": "global", "h0": "H₀: μ₁ = μ₂ = ... = μk", "ha": "Hₐ: przynajmniej jedna średnia różna"}
      ]
    },
    "correlation": {
      "parameter": "rho",
      "variants": [
        {"tail": "two_sided", "h0": "H₀: ρ = 0", "ha": "Hₐ: ρ ≠ 0"},
        {"tail": "left", "h0": "H₀: ρ ≥ 0", "ha": "Hₐ: ρ < 0"},
        {"tail": "right", "h0": "H₀: ρ ≤ 0", "ha": "Hₐ: ρ > 0"}
      ]
    },
    "independence": {
      "parameter": "association",
      "variants": [
        {"tail": "global", "h0": "H₀: zmienne są niezależne", "ha": "Hₐ: zmienne są zależne"}
      ]
    }
  },
  "rules": [
    {
      "rule_id": "basic_one_quantitative",
      "conditions": {"scope": "one_variable", "one_data_type": "quantitative"},
      "result": {
        "test_primary": "Test t dla jednej próby",
        "test_alternatives": [],
        "hypothesis_template": "mean_one_sample",
        "example": "Czy średnia zawartość soli w posiłkach firmy X jest równa 20 g?",
        "assumptions": [
          "Zakładamy normalność",
          "Zakładamy niezależność obserwacji"
        ]
      }
    },
    {
      "rule_id": "basic_one_proportion",
      "conditions": {"scope": "one_variable", "one_data_type": "categorical_proportion"},
      "result": {
        "test_primary": "Dokładny test dwumianowy",
        "test_alternatives": [],
        "hypothesis_template": "proportion_one_sample",
        "example": "Czy udział odpowiedzi \"tak\" różni się od 0.5?",
        "assumptions": [
          "Zmienna binarna",
          "Losowa próba"
        ]
      }
    },
    {
      "rule_id": "basic_two_nominal",
      "conditions": {"scope": "two_variables", "two_data_pattern": "two_nominal"},
      "result": {
        "test_primary": "Test chi-kwadrat niezależności",
        "test_alternatives": [],
        "hypothesis_template": "independence",
        "example": "Czy istnieje związek pomiędzy prywatnym ubezpieczeniem a płcią?",
        "assumptions": [
          "Dwie zmienne kategoryczne",
          "Niezależne obserwacje"
        ]
      }
    },
    {
      "rule_id": "basic_two_continuous",
      "conditions": {"scope": "two_variables", "two_data_pattern": "two_continuous"},
      "result": {
        "test_primary": "Współczynnik korelacji Pearsona",
        "test_alternatives": [],
        "hypothesis_template": "correlation",
        "example": "Czy wraz ze wzrostem średniej zawartości soli rośnie średnia kaloryczność posiłków?",
        "assumptions": [
          "Zakładamy liniowość relacji",
          "Zakładamy normalność"
        ]
      }
    },
    {
      "rule_id": "basic_two_groups_nominal_continuous",
      "conditions": {"scope": "two_variables", "two_data_pattern": "nominal_continuous", "two_nomcont_groups": "two"},
      "result": {
        "test_primary": "Test t Studenta dla dwóch prób niezależnych",
        "test_alternatives": [],
        "hypothesis_template": "means_two_independent",
        "example": "Czy średnia zawartość soli w posiłkach firmy X jest równa średniej firmy Y?",
        "assumptions": [
          "Zakładamy normalność",
          "Zakładamy jednorodność wariancji",
          "Grupy niezależne"
        ]
      }
    },
    {
      "rule_id": "basic_many_groups_nominal_continuous",
      "conditions": {"scope": "two_variables", "two_data_pattern": "nominal_continuous", "two_nomcont_groups": "more_than_two"},
      "result": {
        "test_primary": "ANOVA jednoczynnikowa",
        "test_alternatives": [],
        "hypothesis_template": "anova",
        "example": "Czy średnia zawartość soli jest taka sama w więcej niż dwóch grupach?",
        "assumptions": [
          "Zakładamy normalność",
          "Zakładamy jednorodność wariancji",
          "Grupy niezależne"
        ]
      }
    }
  ]
}
